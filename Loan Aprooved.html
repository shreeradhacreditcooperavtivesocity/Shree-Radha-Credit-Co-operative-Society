<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Loan / Account Form — Shree Radha Credit Co-operative Society</title>
<style>
:root { --maroon:#800000; --paper:#fff; }
body { margin:0; padding:0; background:var(--paper); font-family: Arial, Helvetica, sans-serif; display:flex; justify-content:center; align-items:flex-start; min-height:100vh; }
.a4 { width:600px; margin:20px auto; padding:18px; border:1.8px solid var(--maroon); box-shadow:0 6px 18px rgba(0,0,0,.06); background:#fff; border-radius:12px; position:relative; }
header { display:flex; align-items:center; justify-content:space-between; border-bottom:4px solid var(--maroon); padding-bottom:10px; margin-bottom:16px; }
.coop h1 { margin:0; font-size:18px; color:var(--maroon); }
.coop p { margin:2px 0; font-size:12px; }
.form-row { display:flex; gap:10px; margin-bottom:15px; }
.form-row.single { flex-direction:column; }
.form-group { flex:1; }
label { display:block; font-weight:bold; margin-bottom:5px; color:maroon; font-size:14px; }
input, select { width:100%; padding:8px; font-size:14px; border-radius:5px; border:1.5px solid maroon; box-sizing:border-box; color:maroon; background:white; }
button { padding:8px 12px; border:none; font-weight:bold; border-radius:5px; cursor:pointer; }
#submitBtn { width:100%; background-color: maroon; color:white; margin-top:10px; }
#submitBtn:hover { background-color:#a00000; }
#status { margin-top:12px; font-weight:bold; font-size:14px; }

#approvedStamp {
  display:none;
  position:absolute;
  top:50%;
  left:50%;
  transform: translate(-50%, -50%) rotate(-20deg);
  font-size:50px;
  font-weight:bold;
  color:green;
  border:4px solid green;
  padding:20px 40px;
  border-radius:12px;
  background:rgba(255,255,255,0.9);
  box-shadow:0 4px 12px rgba(0,0,0,0.3);
  z-index:1000;
  text-align:center;
}
</style>
</head>
<body>

<div class="a4">
  <div id="approvedStamp">LOAN APPROVED ✅</div>

  <header>
    <div class="coop">
      <h1>Shree Radha Credit Co-operative Society Limited, Gujri (Dhamnod)</h1>
      <p>Reg. No.: DR/DHR/151716</p>
    </div>
    <div style="text-align:right; font-size:13px; color:var(--maroon)">
      <strong>Loan / Account Form</strong>
    </div>
  </header>

  <form id="loanForm">
    <!-- Loan ID manually input -->
    <div class="form-row single">
      <div class="form-group">
        <label>Loan ID</label>
        <input type="text" id="loanId" name="loanId" placeholder="Enter Loan ID" required>
      </div>
    </div>

    <div class="form-row single">
      <div class="form-group">
        <label>Account Number</label>
        <input type="text" id="accountNumber" name="accountNumber" placeholder="Enter Account Number" required>
      </div>
    </div>

    <div class="form-row single">
      <div class="form-group">
        <label>Full Name</label>
        <input type="text" id="name" name="name" required>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label>Aadhaar Number</label>
        <input type="text" id="aadhaar" name="aadhaar" pattern="\d{12}" maxlength="12" required>
      </div>
      <div class="form-group">
        <label>Mobile Number</label>
        <input type="text" id="mobile" name="mobile" pattern="\d{10}" maxlength="10" required>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label>Guarantor Name</label>
        <input type="text" id="guarantorName" name="guarantorName" required>
      </div>
      <div class="form-group">
        <label>Guarantor Mobile Number</label>
        <input type="text" id="guarantorMobile" name="guarantorMobile" pattern="\d{10}" maxlength="10" required>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label>Loan Amount (₹)</label>
        <input type="number" id="loanAmount" name="loanAmount" min="0" required>
      </div>
      <div class="form-group">
        <label>Loan Fees (₹)</label>
        <input type="number" id="loanFees" name="loanFees" min="0" required>
      </div>
    </div>

    <div class="form-row single">
      <div class="form-group">
        <label>Email (Gmail)</label>
        <input type="email" id="email" name="email" placeholder="example@gmail.com" required>
      </div>
    </div>

    <button type="submit" id="submitBtn">Submit</button>
    <div id="status"></div>
  </form>
</div>

<script>
  const form = document.getElementById('loanForm');
  const statusDiv = document.getElementById('status');
  const approvedStamp = document.getElementById('approvedStamp');
  const scriptURL = "https://script.google.com/macros/s/AKfycbz8DFUFWwwH_rXiccNzQ2kEY91wBf1BqSnfXMaImnS1QHArTnvkX9kqyUkdnPVzPzN6zA/exec"; // Replace with your Apps Script URL

  form.addEventListener('submit', e => {
    e.preventDefault();
    const submitBtn = document.getElementById('submitBtn');
    submitBtn.disabled = true;
    submitBtn.textContent = 'Submitting...';
    statusDiv.textContent = '';
    approvedStamp.style.display = 'none';

    const formData = new FormData(form);

    fetch(scriptURL, { method: 'POST', body: formData })
    .then(res => res.json())
    .then(data => {
      if (data.status === 'success') {
        statusDiv.style.color = 'green';
        statusDiv.textContent = "✅ Loan Approved Successfully!";
        approvedStamp.style.display = 'block';

        // Hide the stamp after 3 seconds
        setTimeout(() => { approvedStamp.style.display = 'none'; }, 3000);

        form.reset();
      } else {
        statusDiv.style.color = 'red';
        statusDiv.textContent = data.message || "❌ Submission failed!";
      }
      submitBtn.disabled = false;
      submitBtn.textContent = 'Submit';
    })
    .catch(err => {
      console.error(err);
      statusDiv.style.color = 'red';
      statusDiv.textContent = "❌ Network error, check console.";
      submitBtn.disabled = false;
      submitBtn.textContent = 'Submit';
    });
  });
</script>

</body>
</html>
