<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shree Radha Credit Co-operative Society Limited, Gujri (Dhamnod)</title>
<style>
  body { font-family: 'Poppins', sans-serif; background: #f3f4f6; margin:0; padding:30px; }
  h2 { text-align: center; color: #2c3e50; margin-bottom:25px; }
  .search-box { background: #fff; border-radius:10px; padding:20px; box-shadow:0 2px 10px rgba(0,0,0,0.1); max-width:900px; margin:0 auto 20px; }
  .search-row { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; }
  input { padding:10px; border:1px solid #ccc; border-radius:6px; width:200px; outline:none; transition:0.3s; }
  input:focus { border-color:#0078d7; }
  button { background:#0078d7; color:white; border:none; border-radius:6px; padding:10px 20px; cursor:pointer; }
  button:hover { background:#005fa3; }
  .detail-card { background:#fff; border-radius:12px; padding:20px; box-shadow:0 2px 10px rgba(0,0,0,0.1); max-width:900px; margin:20px auto; }
  .photo-box { text-align:center; margin-bottom:20px; }
  .photo-box img { width:120px; height:120px; border-radius:10px; object-fit:cover; border:2px solid #0078d7; }
  table { width:100%; border-collapse:collapse; }
  td { padding:8px 10px; border-bottom:1px solid #ddd; vertical-align:top; }
  td.label { font-weight:600; color:#333; width:30%; }
  .no-data { text-align:center;color:#777;margin-top:20px; }
  #printBtn { display:block; margin:15px auto 0; background:#28a745; }
  #printBtn:hover { background:#1e7e34; }
  @media print { body * { visibility:hidden; } #print-area, #print-area * { visibility:visible; } #print-area { position:absolute; top:0; left:0; width:100%; } #printBtn { display:none; } }
</style>
</head>
<body>

<h2>Shree Radha Credit Co-operative Society Limited, Gujri (Dhamnod)</h2>

<div class="search-box">
  <div class="search-row">
    <input type="text" id="nameSearch" placeholder="Name ‡§∏‡•á ‡§ñ‡•ã‡§ú‡•á‡§Ç">
    <input type="text" id="accountNumber" placeholder="Account Number ‡§∏‡•á ‡§ñ‡•ã‡§ú‡•á‡§Ç">
    <input type="text" id="mobileNumber" placeholder="Mobile Number ‡§∏‡•á ‡§ñ‡•ã‡§ú‡•á‡§Ç">
    <input type="text" id="aadhaarNumber" placeholder="Aadhaar Number ‡§∏‡•á ‡§ñ‡•ã‡§ú‡•á‡§Ç">
    <button onclick="searchData()">Search</button>
  </div>
</div>

<div id="result"></div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycby4gc6I3eoW7a38plc4KW7tnE5aS7tGF5OgDT58RU7zkpBJvwqd117IFK_B3CQ6OSrK/exec"; // ‚Üê ‡§Ö‡§™‡§®‡§æ Apps Script Web App URL ‡§°‡§æ‡§≤‡•á‡§Ç

async function searchData() {
  const name = document.getElementById("nameSearch").value.trim().toLowerCase();
  const account = document.getElementById("accountNumber").value.trim();
  const mobile = document.getElementById("mobileNumber").value.trim();
  const aadhaar = document.getElementById("aadhaarNumber").value.trim();

  if (!name && !account && !mobile && !aadhaar) {
    alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡•ã‡§à ‡§è‡§ï ‡§´‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç (Name, Account, Mobile ‡§Ø‡§æ Aadhaar)");
    return;
  }

  document.getElementById("result").innerHTML = "<p class='no-data'>üîé Searching...</p>";

  try {
    const response = await fetch(`${SCRIPT_URL}?action=search&name=${encodeURIComponent(name)}&account=${encodeURIComponent(account)}&mobile=${encodeURIComponent(mobile)}&aadhaar=${encodeURIComponent(aadhaar)}`);
    const data = await response.json();

    if (data.length === 0) {
      document.getElementById("result").innerHTML = "<p class='no-data'>‚ùå ‡§ï‡•ã‡§à ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ</p>";
    } else {
      let html = "";
      data.forEach(d => {
        html += `
        <div id="print-area" class="detail-card">
          <div class="photo-box"><img src="${d.photoUrl}" alt="Photo"></div>
          <table>
            <tr><td class="label">Full Name:</td><td>${d.fullName}</td></tr>
            <tr><td class="label">Father Name:</td><td>${d.fatherName}</td></tr>
            <tr><td class="label">Mother Name / Aadhaar:</td><td>${d.motherName}</td></tr>
            <tr><td class="label">Mobile:</td><td>${d.mobile}</td></tr>
            <tr><td class="label">Gender:</td><td>${d.gender}</td></tr>
            <tr><td class="label">Birth Date:</td><td>${d.birthDate}</td></tr>
            <tr><td class="label">Account Number:</td><td>${d.accountNumber}</td></tr>
            <tr><td class="label">Account Type:</td><td>${d.accountType}</td></tr>
            <tr><td class="label">Opening Date:</td><td>${d.openingDate}</td></tr>
            <tr><td class="label">Pin Code:</td><td>${d.pinCode}</td></tr>
            <tr><td class="label">City:</td><td>${d.city}</td></tr>
            <tr><td class="label">District:</td><td>${d.district}</td></tr>
            <tr><td class="label">Full Address:</td><td>${d.fullAddress}</td></tr>
          </table>
        </div>`;
      });
      html += `<button id="printBtn" onclick="printForm()">üñ®Ô∏è Print Form</button>`;
      document.getElementById("result").innerHTML = html;
    }
  } catch(err) {
    document.getElementById("result").innerHTML = "<p class='no-data'>‚ö†Ô∏è Error: " + err.message + "</p>";
  }
}

function printForm() { window.print(); }

// Enter ‡§¶‡§¨‡§æ‡§®‡•á ‡§™‡§∞ ‡§≠‡•Ä search ‡§ö‡§≤‡•á
document.addEventListener("keydown", function(e) { if (e.key === "Enter") searchData(); });
</script>

</body>
</html>
